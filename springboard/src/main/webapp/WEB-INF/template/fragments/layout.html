<!DOCTYPE html>
<html lang="ko" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">

<head th:fragment="head">
<link rel="stylesheet"
	href="/webjars/bootstrap/4.6.0/css/bootstrap.min.css">
<script src="/webjars/jquery/3.5.1/jquery.min.js"></script>
<script src="/webjars/popper.js/2.5.4/umd/popper.min.js"></script>
<script src="/webjars/bootstrap/4.6.0/js/bootstrap.min.js"></script>
<script>
	$(function() {
		if (document.body.clientHeight > window.innerHeight - 24) {
			$("footer").removeClass("fixed-bottom");
			$("footer").addClass("mt-3");
		}
	});
</script>

</head>

<header th:fragment="header" class="mb-4">
	<nav class="navbar navbar-expand-lg navbar-light bg-light">
		<a class="navbar-brand" href="/"> <img src="/images/logo.jpg"
			width="30" height="30" alt="" /> CodeBook
		</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse"
			data-target="#navbarContent">
			<span class="navbar-toggler-icon"></span>
		</button>

		<div class="collapse navbar-collapse" id="navbarContent">
			<ul class="navbar-nav mr-auto">
				<li class="nav-item active"><a class="nav-link" href="/">Home</a>
				</li>
				<li class="nav-item"><a class="nav-link" href="/code">CodeBook</a>
				</li>
				<li class="nav-item"><a class="nav-link" href="/board/list">FreeBoard</a>
				</li>
			</ul>

			<form th:if="${session.user == null}"
				class="form-inline my-2 my-lg-0" action="/user/login" method="post">
				<input class="form-control mr-sm-2" type="text" placeholder="회원아이디"
					name="userid"> <input class="form-control mr-sm-2"
					type="password" placeholder="비밀번호" name="password">
				<button class="btn btn-outline-success my-2 mr-2 my-sm-0"
					type="submit">로그인</button>
				<a class="btn btn-outline-info my-2 my-sm-0" href="/user/register">회원가입</a>
			</form>
			<div th:if="${session.user != null}">
				<button class="btn btn-outline-success"
					th:text="${session.user.level}"></button>
				<button class="btn btn-outline-success"
					th:text="${session.user.exp}"></button>
				<button class="btn btn-outline-success"
					th:text="${session.user.name}"></button>
				<a href="/user/logout" class="btn btn-outline-warning">로그아웃</a>
			</div>
		</div>
	</nav>
	<div th:if="${msg != null}"
		class="alert alert-warning alert-dismissible fade show" role="alert">
		<strong>알림!</strong> <span th:text="${msg}">메시지</span>
		<button type="button" class="close" data-dismiss="alert"
			aria-label="Close">
			<span aria-hidden="true">&times;</span>
		</button>
	</div>

</header>

<footer class="bg-primary text-white fixed-bottom" th:fragment="footer">
	<div class="text-center py-3">© 2018 Copyright: www.gondr.net</div>
</footer>

</html>
